<!DOCTYPE html>
<html lang="sw">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Duka Langu la Kisasa</title>
    <style>
        :root {
            --primary-color: #25d366; /* Rangi ya WhatsApp */
            --dark-color: #333;
            --light-bg: #f4f4f4;
        }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; background: var(--light-bg); }
        
        /* Sehemu ya Juu (Header) */
        header { background: white; padding: 20px; text-align: center; box-shadow: 0 2px 10px rgba(0,0,0,0.1); sticky: top; }
        header h1 { margin: 0; color: var(--dark-color); font-size: 24px; }

        /* Grid ya Bidhaa */
        .container { max-width: 1100px; margin: 30px auto; padding: 0 15px; }
        #duka { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); 
            gap: 20px; 
        }

        /* Kadi ya Bidhaa */
        .kadi { 
            background: white; border-radius: 12px; overflow: hidden; 
            box-shadow: 0 4px 6px rgba(0,0,0,0.05); transition: 0.3s;
            display: flex; flex-direction: column;
        }
        .kadi:hover { transform: translateY(-5px); }
        .kadi img { width: 100%; height: 200px; object-fit: cover; }
        .kadi-info { padding: 15px; flex-grow: 1; }
        .kadi-info h3 { margin: 0 0 10px 0; font-size: 18px; }
        .bei { color: #e67e22; font-weight: bold; font-size: 20px; margin-bottom: 10px; }
        .maelezo { color: #666; font-size: 14px; margin-bottom: 15px; }

        /* Vitufe */
        .btn-nunua { 
            background: var(--primary-color); color: white; text-align: center; 
            padding: 12px; text-decoration: none; font-weight: bold; 
            display: block; border-radius: 6px; transition: 0.3s;
        }
        .btn-nunua:hover { background: #128c7e; }

        /* Footer (Mawasiliano) */
        footer { background: var(--dark-color); color: white; padding: 40px 20px; text-align: center; margin-top: 50px; }
        .footer-content { max-width: 600px; margin: auto; }
        .footer-links { margin-top: 20px; }
        .footer-links a { color: #25d366; text-decoration: none; margin: 0 15px; font-weight: bold; }
        
        /* Loading animation */
        .loading { text-align: center; padding: 50px; font-size: 18px; color: #666; }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
</head>
<body>

    <header>
        <h1>üõçÔ∏è Deusb Entertainment Store </h1>
    </header>

    <div class="container">
        <div id="duka">
            <div class="loading">Inapakia bidhaa kutoka stoo...</div>
        </div>
    </div>

    <footer>
        <div class="footer-content">
            <h3>Wasiliana Nasi</h3>
            <p>Tupo wazi kuanzia saa 2 asubuhi mpaka saa 12 jioni.</p>
            <div class="footer-links">
                <a href="https://wa.me/255748666409">WhatsApp: +255 748666409</a> <br><br>
                <a href="mailto:deusbentainment@gmail.com">Email: deusbentainment@gmail.com</a>
            </div>
            <p style="font-size: 12px; margin-top: 20px; color: #888;">&copy; 2024 Duka Langu. Limejengwa kwa Upendo.</p>
        </div>
    </footer>

    <script>
        // 1. WEKA LINK YAKO YA CSV HAPA CHINI
        const sheetUrl = https://docs.google.com/spreadsheets/d/1z9T7xVjxiXkkIbncGO4WM7tcooiEwcS94N6N-Muxtrs/edit?usp=sharing;

        function loadProducts() {
            Papa.parse(sheetUrl, {
                download: true,
                header: true,
                complete: function(results) {
                    const data = results.data;
                    const dukaDiv = document.getElementById('duka');
                    let html = '';
                    
                    data.forEach(bidhaa => {
                        // Hakikisha bidhaa ina data muhimu kabla ya kuionyesha
                        if(bidhaa.Jina && bidhaa.Bei) {
                            html += `
                                <div class="kadi">
                                    <img src="${bidhaa.PichaURL || 'https://via.placeholder.com/300x200?text=No+Image'}" alt="${bidhaa.Jina}">
                                    <div class="kadi-info">
                                        <h3>${bidhaa.Jina}</h3>
                                        <p class="bei">TSH ${bidhaa.Bei}</p>
                                        <p class="maelezo">${bidhaa.Maelezo || 'Hakuna maelezo zaidi.'}</p>
                                        <a class="btn-nunua" href="https://wa.me/255712345678?text=Habari, nahitaji bidhaa hii: ${bidhaa.Jina} (Bei: ${bidhaa.Bei})">
                                            Nunua kwa WhatsApp
                                        </a>
                                    </div>
                                </div>
                            `;
                        }
                    });
                    dukaDiv.innerHTML = html;
                },
                error: function() {
                    document.getElementById('duka').innerHTML = "Imeshindikana kupakia bidhaa. Angalia link ya Sheet yako.";
                }
            });
        }

        // Pakia bidhaa punde tu ukurasa unapofunguka
        window.onload = loadProducts;
    </script>
</body>
</html>
